require([],(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var u=r(1),l=function(){function t(t){this._value=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.map=function(e){return e||(e=function(t){return t}),new t(e(this.value))},t.prototype.flatMap=function(e){for(var r=this.map(e);void 0!==r&&null!=r&&r.value instanceof t;)r=r.value;return r},t}();e.Monad=l;var s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value instanceof l?this._value.flatMap().value:this._value},enumerable:!0,configurable:!0}),e.fromNullable=function(t){return new e(t)},e.prototype.isAbsent=function(){return void 0===this.value||null==this.value},e.prototype.isPresent=function(t){var e=this.isAbsent();return!e&&t&&t.call(this,this),!e},e.prototype.ifPresentLazy=function(t){return void 0===t&&(t=function(){}),this.isPresent.call(this,t),this},e.prototype.orElse=function(t){return this.isPresent()?this:null==t?e.absent:this.flatMap((function(){return t}))},e.prototype.orElseLazy=function(t){return this.isPresent()?this:this.flatMap(t)},e.prototype.flatMap=function(r){var n=t.prototype.flatMap.call(this,r);return n instanceof e?n.flatMap():e.fromNullable(n.value)},e.prototype.getIf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=this,n=0;n<t.length;n++){var o=this.keyVal(t[n]),i=this.arrayIndex(t[n]);if(""===o&&i>=0){if((r=this.getClass().fromNullable(r.value instanceof Array?r.value.length<i?null:r.value[i]:null)).isAbsent())return r}else if(o&&i>=0){if(r.getIfPresent(o).isAbsent())return r;if((r=r.getIfPresent(o).value instanceof Array?this.getClass().fromNullable(r.getIfPresent(o).value[i]):this.getClass().absent).isAbsent())return r}else{if((r=r.getIfPresent(o)).isAbsent())return r;i>-1&&(r=this.getClass().fromNullable(r.value[i]))}}return r},e.prototype.match=function(t){return!this.isAbsent()&&t(this.value)},e.prototype.get=function(t){return void 0===t&&(t=e.absent),this.isAbsent()?this.getClass().fromNullable(t).flatMap():this.getClass().fromNullable(this.value).flatMap()},e.prototype.toJson=function(){return JSON.stringify(this.value)},e.prototype.getClass=function(){return e},e.prototype.arrayIndex=function(t){var e=t.indexOf("["),r=t.indexOf("]");return e>=0&&r>0&&e<r?parseInt(t.substring(e+1,r)):-1},e.prototype.keyVal=function(t){var e=t.indexOf("[");return e>=0?t.substring(0,e):t},e.prototype.getIfPresent=function(t){return this.isAbsent()?this.getClass().absent:this.getClass().fromNullable(this.value[t]).flatMap()},e.prototype.resolve=function(t){if(this.isAbsent())return e.absent;try{return e.fromNullable(t(this.value))}catch(t){return e.absent}},e.absent=e.fromNullable(null),e}(l);e.Optional=s;var c=function(t){function e(e,r){void 0===r&&(r="value");var n=t.call(this,e)||this;return n.key=r,n}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value?this._value[this.key]:null},set:function(t){this._value&&(this._value[this.key]=t)},enumerable:!0,configurable:!0}),e.prototype.orElse=function(t){var r={};return r[this.key]=t,this.isPresent()?this:new e(r,this.key)},e.prototype.orElseLazy=function(t){if(this.isPresent())return this;var r={};return r[this.key]=t(),new e(r,this.key)},e.prototype.getClass=function(){return e},e.fromNullable=function(t,r){return void 0===r&&(r="value"),new e(t,r)},e.absent=e.fromNullable(null),e}(s);e.ValueEmbedder=c;var f=function(t){function e(e,r,n){var o=t.call(this,e,r)||this;return o.arrPos=void 0!==n?n:-1,o}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return""==this.key&&this.arrPos>=0?this._value[this.arrPos]:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]:this._value[this.key]},set:function(t){""==this.key&&this.arrPos>=0?this._value[this.arrPos]=t:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]=t:this._value[this.key]=t},enumerable:!0,configurable:!0}),e.absent=e.fromNullable(null),e}(c),p=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"shallowCopy",{get:function(){return new e(u.Lang.instance.mergeMaps([{},this.value||{}]))},enumerable:!0,configurable:!0}),e.fromNullable=function(t){return new e(t)},e.prototype.shallowMerge=function(t,e){for(var r in void 0===e&&(e=!0),t.value)e&&r in this.value?this.apply(r).value=t.getIf(r).value:r in this.value||(this.apply(r).value=t.getIf(r).value)},e.prototype.apply=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!(t.length<1)){this.buildPath(t);var r=this.keyVal(t[t.length-1]),n=this.arrayIndex(t[t.length-1]),o=new f(1==t.length?this.value:this.getIf.apply(this,t.slice(0,t.length-1)).value,r,n);return o}},e.prototype.applyIf=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t?this.apply.apply(this,a(e)):{value:null}},e.prototype.getIf=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.getClass().fromNullable(t.prototype.getIf.apply(this,e).value)},e.prototype.get=function(e){return this.getClass().fromNullable(t.prototype.get.call(this,e).value)},e.prototype.delete=function(t){return t in this.value&&delete this.value[t],this},e.prototype.toJson=function(){return JSON.stringify(this.value)},e.prototype.getClass=function(){return e},e.prototype.setVal=function(t){this._value=t},e.prototype.buildPath=function(t){for(var e=this,r=this.getClass().fromNullable(null),n=-1,o=function(t,e){if(t.length<e)for(var r=t.length;r<e;r++)t.push({})},i=0;i<t.length;i++){var a=this.keyVal(t[i]),u=this.arrayIndex(t[i]);if(""===a&&u>=0)e.setVal(e.value instanceof Array?e.value:[]),o(e.value,u+1),n>=0&&(r.value[n]=e.value),r=e,n=u,e=this.getClass().fromNullable(e.value[u]);else{var l=e.getIf(a);if(-1==u)l.isAbsent()?l=this.getClass().fromNullable(e.value[a]={}):e=l;else{var s=l.value instanceof Array?l.value:[];o(s,u+1),e.value[a]=s,l=this.getClass().fromNullable(s[u])}r=e,n=u,e=l}}return this},e}(s);e.Config=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=r(0),i=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.saveResolve=function(t,e){void 0===e&&(e=null);try{var r=t();return void 0===r||null==r?o.Optional.fromNullable(e):o.Optional.fromNullable(r)}catch(t){return o.Optional.absent}},t.saveResolveLazy=function(t,e){void 0===e&&(e=null);try{var r=t();return void 0===r||null==r?o.Optional.fromNullable(e()):o.Optional.fromNullable(r)}catch(t){return o.Optional.absent}},t.prototype.strToArray=function(t,e){void 0===e&&(e=/\./gi);for(var r=t.split(e),n=0;n<r.length;n++)r[n]=this.trim(r[n]);return r},t.prototype.arrToMap=function(t,e){void 0===e&&(e=0);var r=new Array(t.length),n=t.length;e=e||0;for(var o=0;o<n;o++)r[t[o]]=o+e;return r},t.prototype.trim=function(t){for(var e=/\s/,r=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--r)););return t.slice(0,r+1)},t.prototype.isString=function(t){return!!arguments.length&&null!=t&&("string"==typeof t||t instanceof String)},t.prototype.isFunc=function(t){return t instanceof Function||"function"==typeof t},t.prototype.hitch=function(t,e){return t?function(){return e.apply(t,arguments||[])}:e},t.prototype.mergeMaps=function(t,e,r,n){var o=this;void 0===e&&(e=!0),void 0===r&&(r=function(t){return!1}),void 0===n&&(n=function(t){return!0});var i={};return this.arrForEach(t,(function(t){o.mixMaps(i,t,e,r,n)})),i},t.prototype.mixMaps=function(t,e,r,n,o){for(var i in e)e.hasOwnProperty(i)&&(n&&n(i)||o&&!o(i)||(t[i]=r?void 0!==e[i]?e[i]:t[i]:void 0!==t[i]?t[i]:e[i]));return t},t.prototype.objToArray=function(t,e,r){if(!t)return r||null;if(t instanceof Array&&!e&&!r)return t;var n=void 0!==e||null!=e?e:0,o=r||[];try{return o.concat(Array.prototype.slice.call(t,n))}catch(e){for(var i=n;i<t.length;i++)o.push(t[i]);return o}},t.prototype.arrForEach=function(t,e,r,n){if(t&&t.length){var o=r||0,i=n,a=this.objToArray(t);r?a.slice(o).forEach(e,i):a.forEach(e,i)}},t.prototype.contains=function(t,e){if(!t||!e)throw Error("null value on arr or str not allowed");return-1!=this.arrIndexOf(t,e)},t.prototype.arrIndexOf=function(t,e,r){if(!t||!t.length)return-1;var n=r||0;return(t=this.objToArray(t)).indexOf(e,n)},t.prototype.arrFilter=function(t,e,r,n){if(!t||!t.length)return[];var o=this.objToArray(t);return r?o.slice(r).filter(e,n):o.filter(e,n)},t.prototype.applyArgs=function(t,e,r){var n="undefined";if(r)for(var o=0;o<e.length;o++)n!=typeof t["_"+r[o]]&&(t["_"+r[o]]=e[o]),n!=typeof t[r[o]]&&(t[r[o]]=e[o]);else for(var i in e)e.hasOwnProperty(i)&&(n!=typeof t["_"+i]&&(t["_"+i]=e[i]),n!=typeof t[i]&&(t[i]=e[i]));return t},t.prototype.equalsIgnoreCase=function(t,e){return!t&&!e||!(!t||!e)&&t.toLowerCase()===e.toLowerCase()},t.prototype.timeout=function(t){var e=null;return new n.CancellablePromise((function(r,n){e=setTimeout((function(){r()}),t)}),(function(){e&&(clearTimeout(e),e=null)}))},t.prototype.interval=function(t){var e=null;return new n.CancellablePromise((function(r,n){e=setInterval((function(){r()}),t)}),(function(){e&&(clearInterval(e),e=null)}))},t.prototype.assertType=function(t,e){return this.isString(e)?typeof t==e:t instanceof e},t}();e.Lang=i},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i,a=r(0);!function(t){t[t.PENDING=0]="PENDING",t[t.FULLFILLED=1]="FULLFILLED",t[t.REJECTED=2]="REJECTED"}(i=e.PromiseStatus||(e.PromiseStatus={}));var u=function(){function t(t){var e=this;this.status=i.PENDING,this.allFuncs=[],this.value=t,this.value((function(t){return e.resolve(t)}),(function(t){return e.reject(t)}))}return t.all=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n,o=0,i=new t((function(t,e){n=t})),a=function(){o++,e.length==o&&n()};a.__last__=!0;for(var u=0;u<e.length;u++)e[u].finally(a);return i},t.race=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n,o,i=new t((function(t,e){n=t,o=e})),a=function(){return n&&n(),n=null,o=null,null};a.__last__=!0;var u=function(){return o&&o(),o=null,n=null,null};u.__last__=!0;for(var l=0;l<e.length;l++)e[l].then(a),e[l].catch(u);return i},t.reject=function(e){return new t((function(r,n){e instanceof t?e.then((function(t){n(t)})):setTimeout((function(){n(e)}),1)}))},t.resolve=function(e){return new t((function(r,n){e instanceof t?e.then((function(t){return r(t)})):setTimeout((function(){r(e)}),1)}))},t.prototype.then=function(t,e){return this.allFuncs.push({then:t}),e&&this.allFuncs.push({catch:e}),this.spliceLastFuncs(),this},t.prototype.catch=function(t){return this.allFuncs.push({catch:t}),this.spliceLastFuncs(),this},t.prototype.finally=function(t){if(!this.__reason__)return this.allFuncs.push({finally:t}),this.spliceLastFuncs(),this;this.__reason__.finally(t)},t.prototype.resolve=function(e){for(;this.allFuncs.length&&this.allFuncs[0].then;){var r=this.allFuncs.shift(),n=a.Optional.fromNullable(r.then(e));if(!n.isPresent())break;if((e=(n=n.flatMap()).value)instanceof t)return void this.transferIntoNewPromise(e)}this.appyFinally(),this.status=i.FULLFILLED},t.prototype.reject=function(e){for(;this.allFuncs.length&&!this.allFuncs[0].finally;){var r=this.allFuncs.shift();if(r.catch){var n=a.Optional.fromNullable(r.catch(e));if(n.isPresent()){if((e=(n=n.flatMap()).value)instanceof t)return void this.transferIntoNewPromise(e);this.status=i.REJECTED;break}break}}this.status=i.REJECTED,this.appyFinally()},t.prototype.appyFinally=function(){for(;this.allFuncs.length;){var t=this.allFuncs.shift();t.finally&&t.finally()}},t.prototype.spliceLastFuncs=function(){for(var t=[],e=[],r=0;r<this.allFuncs.length;r++)for(var n in this.allFuncs[r])this.allFuncs[r][n].__last__?t.push(this.allFuncs[r]):e.push(this.allFuncs[r]);this.allFuncs=e.concat(t)},t.prototype.transferIntoNewPromise=function(t){for(var e=0;e<this.allFuncs.length;e++)for(var r in this.allFuncs[e])t[r](this.allFuncs[e][r])},t}();e.Promise=u;var l=function(t){function e(e,r){var n=t.call(this,e)||this;return n.cancellator=function(){},n.cancellator=r,n}return o(e,t),e.prototype.cancel=function(){this.status=i.REJECTED,this.appyFinally(),this.allFuncs=[]},e.prototype.then=function(e,r){return t.prototype.then.call(this,e,r)},e.prototype.catch=function(e){return t.prototype.catch.call(this,e)},e.prototype.finally=function(e){return t.prototype.finally.call(this,e)},e}(u);e.CancellablePromise=l},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),a=r(4),u=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._limits=-1,this.pos=-1,this.value=t}return t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new(t.bind.apply(t,o([void 0],e)))},t.ofDataSource=function(e){for(var r=[];e.hasNext();)r.push(e.next());return new(t.bind.apply(t,o([void 0],r)))},t.prototype.limits=function(t){return this._limits=t,this},t.prototype.onElem=function(t){for(var e=0;e<this.value.length&&(-1==this._limits||e<this._limits)&&!1!==t(this.value[e],e);e++);return this},t.prototype.each=function(t){this.onElem(t)},t.prototype.map=function(e){e||(e=function(t){return t});var r=[];return this.each((function(t,n){r.push(e(t))})),new(t.bind.apply(t,o([void 0],r)))},t.prototype.flatMap=function(e){var r=[];return this.each((function(t){var n=e(t);r=r.concat.apply(r,o(n.value))})),t.of.apply(t,o(r))},t.prototype.filter=function(e){var r=[];return this.each((function(t){e(t)&&r.push(t)})),new(t.bind.apply(t,o([void 0],r)))},t.prototype.reduce=function(t,e){void 0===e&&(e=null);for(var r=null!=e?0:1,n=null!=e?e:this.value.length?this.value[0]:null,o=r;o<this.value.length&&(-1==this._limits||o<this._limits);o++)n=t(n,this.value[o]);return i.Optional.fromNullable(n)},t.prototype.first=function(){return this.value&&this.value.length?i.Optional.fromNullable(this.value[0]):i.Optional.absent},t.prototype.last=function(){var t=this._limits>0?Math.min(this._limits,this.value.length):this.value.length;return i.Optional.fromNullable(t?this.value[t-1]:null)},t.prototype.anyMatch=function(t){for(var e=0;e<this.value.length&&(-1==this._limits||e<this._limits);e++)if(t(this.value[e]))return!0;return!1},t.prototype.allMatch=function(t){if(!this.value.length)return!1;for(var e=0,r=0;r<this.value.length;r++)t(this.value[r])&&e++;return e==this.value.length},t.prototype.noneMatch=function(t){for(var e=0,r=0;r<this.value.length;r++)t(this.value[r])||e++;return e==this.value.length},t.prototype.sort=function(e){var r=this.value.slice().sort(e);return t.of.apply(t,o(r))},t.prototype.collect=function(t){return this.each((function(e){return t.collect(e)})),t.finalValue},t.prototype.hasNext=function(){var t=-1!=this._limits&&this.pos>=this._limits-1,e=this.pos>=this.value.length-1;return!(t||e)},t.prototype.next=function(){return this.hasNext()?(this.pos++,this.value[this.pos]):null},t.prototype.reset=function(){this.pos=-1},t}();e.Stream=u;var l=function(){function t(t){this._limits=-1,this.pos=-1,this.dataSource=t}return t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new t(new(a.ArrayStreamDataSource.bind.apply(a.ArrayStreamDataSource,o([void 0],e))))},t.ofStreamDataSource=function(e){return new t(e)},t.prototype.hasNext=function(){return!this.isOverLimits()&&this.dataSource.hasNext()},t.prototype.next=function(){var t=this.dataSource.next();return this.pos++,t},t.prototype.reset=function(){this.dataSource.reset(),this.pos=0,this._limits=-1},t.prototype.nextFilter=function(t){if(this.hasNext()){var e=this.next();return t(e)?e:this.nextFilter(t)}return null},t.prototype.limits=function(t){return this._limits=t,this},t.prototype.collect=function(t){for(;this.hasNext();){var e=this.next();t.collect(e)}return t.finalValue},t.prototype.onElem=function(e){var r=this;return new t(new a.MappedStreamDataSource((function(t){return!1===e(t,r.pos)&&r.stop(),t}),this))},t.prototype.filter=function(e){return new t(new a.FilteredStreamDatasource(e,this))},t.prototype.map=function(e){return new t(new a.MappedStreamDataSource(e,this))},t.prototype.flatMap=function(e){return new t(new a.FlatMapStreamDataSource(e,this))},t.prototype.each=function(t){for(;this.hasNext();)!1===t(this.next())&&this.stop()},t.prototype.reduce=function(t,e){if(void 0===e&&(e=null),!this.hasNext())return i.Optional.absent;var r=null,n=null;if(null!=e)r=e,n=this.next();else{if(r=this.next(),!this.hasNext())return i.Optional.fromNullable(r);n=this.next()}for(r=t(r,n);this.hasNext();)r=t(r,n=this.next());return i.Optional.fromNullable(r)},t.prototype.last=function(){return this.hasNext()?this.reduce((function(t,e){return e})):i.Optional.absent},t.prototype.first=function(){return this.reset(),this.hasNext()?i.Optional.fromNullable(this.next()):i.Optional.absent},t.prototype.anyMatch=function(t){for(;this.hasNext();)if(t(this.next()))return!0;return!1},t.prototype.allMatch=function(t){for(;this.hasNext();)if(!t(this.next()))return!1;return!0},t.prototype.noneMatch=function(t){for(;this.hasNext();)if(t(this.next()))return!1;return!0},t.prototype.sort=function(e){var r=this.collect(new a.ArrayCollector);return r=r.sort(e),t.of.apply(t,o(r))},Object.defineProperty(t.prototype,"value",{get:function(){return this.collect(new a.ArrayCollector)},enumerable:!0,configurable:!0}),t.prototype.stop=function(){this.pos=this._limits+1e9},t.prototype.isOverLimits=function(){return-1!=this._limits&&this.pos>=this._limits-1},t}();e.LazyStream=l},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),a=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dataPos=-1,this.value=t}return t.prototype.hasNext=function(){return this.value.length-1>this.dataPos},t.prototype.next=function(){return this.dataPos++,this.value[this.dataPos]},t.prototype.reset=function(){this.dataPos=-1},t}();e.ArrayStreamDataSource=a;var u=function(){function t(t,e){this.filteredNext=null,this.filterFunc=t,this.inputDataSource=e}return t.prototype.hasNext=function(){for(;null==this.filteredNext&&this.inputDataSource.hasNext();){var t=this.inputDataSource.next();if(this.filterFunc(t))return this.filteredNext=t,!0;this.filteredNext=null}return null!=this.filteredNext},t.prototype.next=function(){var t=this.filteredNext;return this.filteredNext=null,this.hasNext(),t},t.prototype.reset=function(){this.filteredNext=null,this.inputDataSource.reset()},t}();e.FilteredStreamDatasource=u;var l=function(){function t(t,e){this.mapFunc=t,this.inputDataSource=e}return t.prototype.hasNext=function(){return this.inputDataSource.hasNext()},t.prototype.next=function(){return this.mapFunc(this.inputDataSource.next())},t.prototype.reset=function(){this.inputDataSource.reset()},t}();e.MappedStreamDataSource=l;var s=function(){function t(t,e){this.mapFunc=t,this.inputDataSource=e}return t.prototype.hasNext=function(){return this.resolveCurrentNext()||this.resolveNextNext()},t.prototype.resolveCurrentNext=function(){var t=!1;return this.activeDataSource&&(t=this.activeDataSource.hasNext()),t},t.prototype.resolveNextNext=function(){for(var t=!1;!t&&this.inputDataSource.hasNext();)this.activeDataSource=this.mapFunc(this.inputDataSource.next()),t=this.activeDataSource.hasNext();return t},t.prototype.next=function(){return this.activeDataSource.next()},t.prototype.reset=function(){this.inputDataSource.reset()},t}();e.FlatMapStreamDataSource=s;var c=function(){function t(){this.data=[]}return t.prototype.collect=function(t){this.data.push(t)},Object.defineProperty(t.prototype,"finalValue",{get:function(){return this.data},enumerable:!0,configurable:!0}),t}();e.ArrayCollector=c;var f=function(){function t(){this.finalValue=new FormData}return t.prototype.collect=function(t){this.finalValue.append(t.key,t.value)},t}();e.FormDataCollector=f;var p=function(){function t(){this.finalValue=new FormData}return t.prototype.collect=function(t){var e=t.encodeFormElement();e.isPresent()&&this.finalValue.append(t.name.value,e.get(t.name).value)},t}();e.QueryFormDataCollector=p;var h=function(){function t(){this.formData=[]}return t.prototype.collect=function(t){var e=t.encodeFormElement();e.isPresent()&&this.formData.push([t.name.value,e.get(t.name).value])},Object.defineProperty(t.prototype,"finalValue",{get:function(){return i.Stream.of.apply(i.Stream,o(this.formData)).map((function(t){return t.join("=")})).reduce((function(t,e){return[t,e].join("&")})).orElse("").value},enumerable:!0,configurable:!0}),t}();e.QueryFormStringCollector=h},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var l=r(1),s=r(0),c=r(3),f=function(t){function e(e,r,n){void 0===n&&(n=null);var o=t.call(this,e,r)||this;return o.element=e,o.name=r,o.defaultVal=n,o}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){var t,e=(t=this.element.get(0)).orElse.apply(t,a([])).values;return e.length?e[0].getAttribute(this.name):this.defaultVal},set:function(t){for(var e,r=(e=this.element.get(0)).orElse.apply(e,a([])).values,n=0;n<r.length;n++)r[n].setAttribute(this.name,t);r[0].setAttribute(this.name,t)},enumerable:!0,configurable:!0}),e.prototype.getClass=function(){return e},e.fromNullable=function(t,r){return void 0===r&&(r="value"),new e(t,r)},e}(s.ValueEmbedder);e.ElementAttribute=f;var p=function(t){return-1==t.indexOf("ln=scripts")&&-1==t.indexOf("ln=javax.faces")||-1==t.indexOf("/jsf.js")&&-1==t.indexOf("/jsf-uncompressed.js")},h=function(){function t(){for(var e,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(this.rootNode=[],this.pos=-1,this._limits=-1,!s.Optional.fromNullable(n).isAbsent()&&n.length)for(var i=0;i<n.length;i++)if(l.Lang.instance.isString(n[i])){var u=t.querySelectorAll(n[i]);u.isAbsent()||n.push.apply(n,a(u.values))}else if(n[i]instanceof t)(e=this.rootNode).push.apply(e,a(n[i].values));else if(l.Lang.instance.isString(n[i])){var c=t.querySelectorAll(n[i]);(r=this.rootNode).push.apply(r,a(c.values))}else this.rootNode.push(n[i])}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getAsElem(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this.allElems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return new s.ValueEmbedder(this.getAsElem(0).value,"id")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.rootNode.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.getAsElem(0).getIf("tagName")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.getAsElem(0).getIf("nodeName")},enumerable:!0,configurable:!0}),t.prototype.isTag=function(t){return!this.isAbsent()&&(this.nodeName.orElse("__none___").value.toLowerCase()==t.toLowerCase()||this.tagName.orElse("__none___").value.toLowerCase()==t.toLowerCase())},Object.defineProperty(t.prototype,"type",{get:function(){return this.getAsElem(0).getIf("type")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return new s.ValueEmbedder(this.getAsElem(0).value,"name")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputValue",{get:function(){return this.getAsElem(0).getIf("value").isPresent()?new s.ValueEmbedder(this.getAsElem(0).value):s.ValueEmbedder.absent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){var e=this,r=this.each((function(t){var e=t.value.value;return e.elements?e.elements:null})).stream.filter((function(t){return!!t})).value;return(new(t.bind.apply(t,a([void 0],r)))).orElseLazy((function(){return e.querySelectorAll("form").elements})).orElseLazy((function(){return e.querySelectorAll("input, select, textarea")}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return!!this.attr("disabled").value},set:function(t){this.attr("disabled").value=t+""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){var e=[];return this.eachElem((function(t){e=e.concat(l.Lang.instance.objToArray(t.childNodes))})),new(t.bind.apply(t,a([void 0],e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stream",{get:function(){return new(c.Stream.bind.apply(c.Stream,a([void 0],this.asArray)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyStream",{get:function(){return c.LazyStream.of.apply(c.LazyStream,a(this.asArray))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asArray",{get:function(){var t=[];return this.each((function(e){t.push(e)})),t},enumerable:!0,configurable:!0}),t.querySelectorAll=function(e){return new t(document).querySelectorAll(e)},t.byId=function(e){return l.Lang.instance.isString(e)?new t(document).byId(e):new t(e)},t.byTagName=function(e){return l.Lang.instance.isString(e)?new t(document).byTagName(e):new t(e)},t.globalEval=function(e,r){return new t(document).globalEval(e,r)},t.fromMarkup=function(e){var r=l.Lang.saveResolve((function(){return new DOMParser})).value;if(r)return new t(r.parseFromString(e,"text/html"));var n=document.implementation.createHTMLDocument(""),o=(e=l.Lang.instance.trim(e)).toLowerCase();return o.includes("<!doctype")||o.includes("<html")||o.includes("<head")||o.includes("<body")?(n.documentElement.innerHTML=e,new t(n.documentElement)):(n.body.innerHTML=e,new(t.bind.apply(t,a([void 0],l.Lang.instance.objToArray(n.body.childNodes)))))},t.prototype.get=function(e){return e<this.rootNode.length?new t(this.rootNode[e]):t.absent},t.prototype.getAsElem=function(t,e){return void 0===e&&(e=s.Optional.absent),t<this.rootNode.length?s.Optional.fromNullable(this.rootNode[t]):e},t.prototype.allElems=function(){return this.rootNode},t.prototype.isAbsent=function(){return 0==this.length},t.prototype.isPresent=function(t){var e=this.isAbsent();return!e&&t&&t.call(this,this),!e},t.prototype.ifPresentLazy=function(t){return void 0===t&&(t=function(){}),this.isPresent.call(this,t),this},t.prototype.delete=function(){this.eachElem((function(t){t.parentNode&&t.parentNode.removeChild(t)}))},t.prototype.querySelectorAll=function(e){if(0==this.rootNode.length)return this;for(var r=[],n=0;n<this.rootNode.length;n++)if(this.rootNode[n].querySelectorAll){var o=this.rootNode[n].querySelectorAll(e);r=r.concat(l.Lang.instance.objToArray(o))}return new(t.bind.apply(t,a([void 0],r)))},t.prototype.byId=function(e,r){for(var n=[],o=0;r&&o<this.rootNode.length;o++)this.rootNode[o].id==e&&n.push(new t(this.rootNode[o]));return n=n.concat(this.querySelectorAll('[id="'+e+'"]')),new(t.bind.apply(t,a([void 0],n)))},t.prototype.byTagName=function(e,r){for(var n=[],o=0;r&&o<this.rootNode.length;o++)this.rootNode[o].tagName==e&&n.push(new t(this.rootNode[o]));return n=n.concat(this.querySelectorAll(e)),new(t.bind.apply(t,a([void 0],n)))},t.prototype.attr=function(t,e){return void 0===e&&(e=null),new f(this,t,e)},t.prototype.hasClass=function(t){var e=!1;return this.each((function(r){var n=r.attr("class").value||"";if(-1!=n.toLowerCase().indexOf(t.toLowerCase())){for(var o=n.split(/\s+/gi),i=!1,a=0;a<o.length&&!i;a++)i=o[a].toLowerCase()==t.toLowerCase();return!(e=e||i)&&void 0}})),e},t.prototype.addClass=function(t){var e=this;return this.each((function(r){var n=r.attr("class").value||"";e.hasClass(t)||(r.attr("class").value=l.Lang.instance.trim(n+" "+t))})),this},t.prototype.removeClass=function(t){var e=this;return this.each((function(r){if(e.hasClass(t)){for(var n=[],o=(r.attr("class").value||"").split(/\s+/gi),i=0;i<o.length;i++)o[i].toLowerCase()!=t.toLowerCase()&&n.push(o[i]);r.attr("class").value=n.join(" ")}})),this},t.prototype.isMultipartCandidate=function(){return this.querySelectorAll("input[type='file']").firstElem().isPresent()},t.prototype.html=function(t){return s.Optional.fromNullable(t).isAbsent()?this.isPresent()?s.Optional.fromNullable(this.innerHtml):s.Optional.absent:(this.innerHtml=t,this)},Object.defineProperty(t.prototype,"innerHtml",{get:function(){var t=[];return this.eachElem((function(e){return t.push(e.innerHTML)})),t.join("")},set:function(t){this.eachElem((function(e){return e.innerHTML=t}))},enumerable:!0,configurable:!0}),t.prototype._mozMatchesSelector=function(t,e){var r=t;return(r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector||function(e){for(var r=(document||window.ownerDocument).querySelectorAll(e),n=r.length;--n>=0&&r.item(n)!==t;);return n>-1}).call(t,e)},t.prototype.filterSelector=function(e){var r=this,n=[];return this.eachElem((function(t){r._mozMatchesSelector(t,e)&&n.push(t)})),new(t.bind.apply(t,a([void 0],n)))},t.prototype.matchesSelector=function(t){var e=this;return this.eachElem((function(r){if(!e._mozMatchesSelector(r,t))return!1})),!0},t.prototype.getIf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=this.childNodes,n=0;n<t.length;n++)if((r=r.filterSelector(t[n])).isAbsent())return r;return r},t.prototype.eachElem=function(t){for(var e=0,r=this.rootNode.length;e<r&&!1!==t(this.rootNode[e],e);e++);return this},t.prototype.firstElem=function(t){return void 0===t&&(t=function(t){return t}),this.rootNode.length>1&&t(this.rootNode[0],0),this},t.prototype.each=function(t){for(var e=0,r=this.rootNode.length;e<r&&!1!==t(this.get(e),e);e++);return this},t.prototype.first=function(t){return void 0===t&&(t=function(t){return t}),this.rootNode.length>=1?(t(this.get(0),0),this.get(0)):this},t.prototype.filter=function(e){var r=[];return this.each((function(t){e(t)&&r.push(t)})),new(t.bind.apply(t,a([void 0],r)))},t.prototype.globalEval=function(t,e){var r=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");e&&n.setAttribute("nonce",e),n.type="text/javascript",n.innerHTML=t;var o=r.appendChild(n);return r.removeChild(o),this},t.prototype.detach=function(){return this.eachElem((function(t){t.parentNode.removeChild(t)})),this},t.prototype.appendTo=function(t){this.eachElem((function(e){t.getAsElem(0).orElseLazy((function(){return{appendChild:function(t){}}})).value.appendChild(e)}))},t.prototype.loadScriptEval=function(t,e,r){void 0===e&&(e=0);var n=new XMLHttpRequest;if(n.open("GET",t,!1),r&&n.setRequestHeader("Content-Type","application/x-javascript; charset:"+r),n.send(null),4!=n.readyState)throw Error("Loading of script "+t+" failed ");if(200!=n.status)throw Error(n.responseText);return(e?setTimeout((function(){this.globalEval(n.responseText+"\r\n//@ sourceURL="+t)}),e):this.globalEval(n.responseText.replace("\n","\r\n")+"\r\n//@ sourceURL="+t),this)},t.prototype.insertAfter=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.each((function(t){for(var r=t.getAsElem(0).value,n=r.parentNode,o=function(t){var o=r.nextSibling;e[t].eachElem((function(t){o?(n.insertBefore(t,o),r=o):n.appendChild(t)}))},i=0;i<e.length;i++)o(i)}));var n=[];return n.push(this),n.concat(e),new(t.bind.apply(t,a([void 0],n)))},t.prototype.insertBefore=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.each((function(t){for(var r=t.getAsElem(0).value,n=r.parentNode,o=0;o<e.length;o++)e[o].eachElem((function(t){n.insertBefore(t,r)}))}));var n=[];return n.push(this),n.concat(e),new(t.bind.apply(t,a([void 0],n)))},t.prototype.orElse=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.isPresent()?this:new(t.bind.apply(t,a([void 0],e)))},t.prototype.orElseLazy=function(e){return this.isPresent()?this:new t(e())},t.prototype.parents=function(e){var r=new Set,n=[],o=e.toLowerCase(),i=function(t){(t.tagName||"").toLowerCase()!=o||r.has(t)||(r.add(t),n.push(t))};return this.eachElem((function(t){for(;t.parentNode;)if(t=t.parentNode,i(t),"form"==e&&n.length)return!1})),new(t.bind.apply(t,a([void 0],n)))},t.prototype.copyAttrs=function(t){var e=this;return t.eachElem((function(t){var r,n,o=l.Lang.instance.objToArray(t.attributes);try{for(var i=u(o),a=i.next();!a.done;a=i.next()){var s=a.value,c=s.value,f=s.name;switch(f){case"id":e.id.value=c;break;case"disabled":e.resolveAttributeHolder("disabled").disabled=c;break;case"checked":e.resolveAttributeHolder("checked").checked=c;break;default:e.attr(f).value=c}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}})),this},t.prototype.resolveAttributeHolder=function(t){void 0===t&&(t="value");var e=[];return e[t]=null,t in this.getAsElem(0).value?this.getAsElem(0).value:e},t.prototype.outerHTML=function(e,r,n){var o,i=t.fromMarkup(e),u=[],l=this.getAsElem(0).value,s=i.get(0),c=l.parentNode,f=s.getAsElem(0).value;c.replaceChild(f,l),u.push(new t(f));for(var p=[],h=1;h<i.length;h++)p.push(i.get(h)),this.rootNode.push(i.get(h).getAsElem(0).value);return u.push((o=t.byId(f)).insertAfter.apply(o,a(p))),r&&this.runScripts(),n&&this.runCss(),new(t.bind.apply(t,a([void 0],u)))},t.prototype.runScripts=function(t){var e=this;void 0===t&&(t=p);var r=l.Lang.instance,n=[],o=function(o){var i=o.tagName,a=o.type||"";if(i&&r.equalsIgnoreCase(i,"script")&&(""===a||r.equalsIgnoreCase(a,"text/javascript")||r.equalsIgnoreCase(a,"javascript")||r.equalsIgnoreCase(a,"text/ecmascript")||r.equalsIgnoreCase(a,"ecmascript"))){var u=o.getAttribute("src");if(void 0!==u&&null!=u&&u.length>0)t(u)&&(n.length&&(e.globalEval(n.join("\n")),n=[]),e.loadScriptEval(u,0,"UTF-8"));else{for(var l=o.text||o.innerText||o.innerHTML,s=!0;s;)s=!1," "==l.substring(0,1)&&(l=l.substring(1),s=!0),"\x3c!--"==l.substring(0,4)&&(l=l.substring(4),s=!0),"//<![CDATA["==l.substring(0,11)&&(l=l.substring(11),s=!0);n.push(l)}}};try{var i=this.querySelectorAll("script");if(null==i)return;for(var a=0;a<i.length;a++)o(i.getAsElem(a).value);n.length&&this.globalEval(n.join("\n"))}catch(t){window.console&&window.console.error&&console.error(t.message||t.description)}finally{o=null}},t.prototype.runCss=function(){var t=l.Lang.instance,e=function(t,e){var r=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(r);var n=r.sheet?r.sheet:r.styleSheet;r.setAttribute("rel",t.getAttribute("rel")||"stylesheet"),r.setAttribute("type",t.getAttribute("type")||"text/css"),void 0!==n.cssText?n.cssText=e:r.appendChild(document.createTextNode(e))},r=function(r){var n=t.equalsIgnoreCase,o=r.tagName;if(o&&n(o,"link")&&n(r.getAttribute("type"),"text/css"))e(r,"@import url('"+r.getAttribute("href")+"');");else if(o&&n(o,"style")&&n(r.getAttribute("type"),"text/css")){var i=[],a=r.childNodes;if(a)for(var u=a.length,l=0;l<u;l++)i.push(a[l].innerHTML||a[l].data);else r.innerHTML&&i.push(r.innerHTML);e(r,i.join(""))}},n=this.querySelectorAll("link, style");if(null!=n){for(var o=0;o<n.length;o++){r(n.getAsElem(o).value)}return this}},Object.defineProperty(t.prototype,"cDATAAsString",{get:function(){var t=[];return this.each((function(e){e.childNodes.eachElem((function(e){t.push(e.data)}))})),t.join("")},enumerable:!0,configurable:!0}),t.prototype.click=function(){return this.fireEvent("click"),this},t.prototype.addEventListener=function(t,e,r){return this.eachElem((function(n){n.addEventListener(t,e,r)})),this},t.prototype.removeEventListener=function(t,e,r){return this.eachElem((function(n){n.removeEventListener(t,e,r)})),this},t.prototype.fireEvent=function(t){this.eachElem((function(e){var r;if(e.ownerDocument)r=e.ownerDocument;else{if(9!=e.nodeType)throw new Error("Invalid node passed to fireEvent: "+e.id);r=e}if(e.dispatchEvent){var n="";switch(t){case"click":case"mousedown":case"mouseup":n="MouseEvents";break;case"focus":case"change":case"blur":case"select":n="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+t+"'."}var o=r.createEvent(n);o.initEvent(t,!0,!0),o.synthetic=!0,e.dispatchEvent(o)}else if(e.fireEvent){var i=r.createEventObject();i.synthetic=!0,e.fireEvent("on"+t,i)}}))},t.prototype.textContent=function(t){return void 0===t&&(t=""),this.stream.map((function(t){return t.getAsElem(0).orElseLazy((function(){return{textContent:""}})).value.textContent||""})).reduce((function(e,r){return e+t+r}),"").value},t.prototype.innerText=function(t){return void 0===t&&(t=""),this.stream.map((function(t){return t.getAsElem(0).orElseLazy((function(){return{innerText:""}})).value.innerText||""})).reduce((function(e,r){return e+t+r}),"").value},t.prototype.encodeFormElement=function(t){if(void 0===t&&(t=new s.Config({})),!this.name.isAbsent()){var e=t.shallowCopy;return this.each((function(t){if(t.name){var r=t.name.orElse("__none__").value,n=t.tagName.orElse("__none__").value.toLowerCase(),o=t.type.orElse("__none__").value.toLowerCase();if(o=o.toLowerCase(),("input"==n||"textarea"==n||"select"==n)&&null!=r&&""!=r&&!t.disabled){if("select"==n){var i=t.getAsElem(0).value;if(i.selectedIndex>=0)for(var a=i.options.length,u=0;u<a;u++)if(i.options[u].selected){var l=i.options[u];e.apply(r).value=null!=l.getAttribute("value")?l.value:l.text}}if("select"!=n&&"button"!=o&&"reset"!=o&&"submit"!=o&&"image"!=o&&("checkbox"!=o&&"radio"!=o||t.checked)){var s=t.value.files;s&&s.length?e.apply(r).value=s[0]:e.apply(r).value=t.inputValue.value}}}})),e}},t.prototype.subNodes=function(e,r){return s.Optional.fromNullable(r).isAbsent()&&(r=this.length),new(t.bind.apply(t,a([void 0],this.rootNode.slice(e,Math.min(r,this.length)))))},t.prototype.limits=function(t){return this._limits=t,this},t.prototype.hasNext=function(){var t=-1!=this._limits&&this.pos>=this._limits-1,e=this.pos>=this.values.length-1;return!(t||e)},t.prototype.next=function(){return this.hasNext()?(this.pos++,new t(this.values[this.pos])):null},t.prototype.reset=function(){this.pos=-1},t.absent=new t,t}();e.DomQuery=h;var v=function(){function t(){this.data=[]}return t.prototype.collect=function(t){this.data.push(t)},Object.defineProperty(t.prototype,"finalValue",{get:function(){return new(h.bind.apply(h,a([void 0],this.data)))},enumerable:!0,configurable:!0}),t}();e.DomQueryCollector=v,e.DQ=h},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=function(t){function e(e,r){void 0===r&&(r="text/xml");var n;return i.Lang.instance.isString(e)?t.call(this,null==(n=e)?null:i.Lang.saveResolveLazy((function(){return new window.DOMParser}),(function(){return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,{parseFromString:function(e,r){return t.loadXML(e)}};var t})).value.parseFromString(n,r))||this:t.call(this,e)||this}return o(e,t),e.prototype.isXMLParserError=function(){return this.querySelectorAll("parsererror").isPresent()},e.prototype.toString=function(){var t=[];return this.eachElem((function(e){void 0!==window.XMLSerializer?t.push((new window.XMLSerializer).serializeToString(e)):void 0!==e.xml&&t.push(e.xml)})),t.join("")},e.prototype.parserErrorText=function(t){return this.querySelectorAll("parsererror").textContent(t)},e.parseXML=function(t){return new e(t)},e.parseHTML=function(t){return new e(t,"text/html")},e.fromString=function(t,r){return void 0===r&&(r="text/xml"),new e(t,r)},e}(r(5).DomQuery);e.XMLQuery=a,e.XQ=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5);e.DomQuery=n.DomQuery,e.ElementAttribute=n.ElementAttribute,e.DomQueryCollector=n.DomQueryCollector,e.DQ=n.DQ;var o=r(1);e.Lang=o.Lang;var i=r(0);e.Config=i.Config,e.Monad=i.Monad,e.Optional=i.Optional,e.ValueEmbedder=i.ValueEmbedder;var a=r(2);e.CancellablePromise=a.CancellablePromise,e.Promise=a.Promise,e.PromiseStatus=a.PromiseStatus;var u=r(6);e.XMLQuery=u.XMLQuery,e.XQ=u.XQ;var l=r(3);e.Stream=l.Stream,e.LazyStream=l.LazyStream;var s=r(4);e.ArrayStreamDataSource=s.ArrayStreamDataSource,e.MappedStreamDataSource=s.MappedStreamDataSource,e.FilteredStreamDatasource=s.FilteredStreamDatasource,e.FlatMapStreamDataSource=s.FlatMapStreamDataSource,e.QueryFormStringCollector=s.QueryFormStringCollector,e.ArrayCollector=s.ArrayCollector,e.FormDataCollector=s.FormDataCollector,e.QueryFormDataCollector=s.QueryFormDataCollector}])}));
//# sourceMappingURL=index.js.map