require([],(function(){return function(e){var t={};function l(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,l),s.l=!0,s.exports}return l.m=e,l.c=t,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(r,s,function(t){return e[t]}.bind(null,s));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=3)}([function(e,t,l){"use strict";l.r(t),l.d(t,"Monad",(function(){return s})),l.d(t,"Optional",(function(){return n})),l.d(t,"ValueEmbedder",(function(){return a})),l.d(t,"Config",(function(){return u}));var r=l(1);class s{constructor(e){this._value=e}get value(){return this._value}map(e){e||(e=e=>e);let t=e(this.value);return new s(t)}flatMap(e){let t=this.map(e);for(;void 0!==t&&null!=t&&t.value instanceof s;)t=t.value;return t}}class n extends s{constructor(e){super(e)}get value(){return this._value instanceof s?this._value.flatMap().value:this._value}static fromNullable(e){return new n(e)}isAbsent(){return void 0===this.value||null==this.value}isPresent(e){let t=this.isAbsent();return!t&&e&&e.call(this,this),!t}ifPresentLazy(e=(()=>{})){return this.isPresent.call(this,e),this}orElse(e){return this.isPresent()?this:null==e?n.absent:this.flatMap(()=>e)}orElseLazy(e){return this.isPresent()?this:this.flatMap(e)}flatMap(e){let t=super.flatMap(e);return t instanceof n?t.flatMap():n.fromNullable(t.value)}getIf(...e){let t=this;for(let l=0;l<e.length;l++){let r=this.keyVal(e[l]),s=this.arrayIndex(e[l]);if(""===r&&s>=0){if((t=this.getClass().fromNullable(t.value instanceof Array?t.value.length<s?null:t.value[s]:null)).isAbsent())return t}else if(r&&s>=0){if(t.getIfPresent(r).isAbsent())return t;if((t=t.getIfPresent(r).value instanceof Array?this.getClass().fromNullable(t.getIfPresent(r).value[s]):this.getClass().absent).isAbsent())return t}else{if((t=t.getIfPresent(r)).isAbsent())return t;s>-1&&(t=this.getClass().fromNullable(t.value[s]))}}return t}match(e){return!this.isAbsent()&&e(this.value)}get(e=n.absent){return this.isAbsent()?this.getClass().fromNullable(e).flatMap():this.getClass().fromNullable(this.value).flatMap()}toJson(){return JSON.stringify(this.value)}getClass(){return n}arrayIndex(e){let t=e.indexOf("["),l=e.indexOf("]");return t>=0&&l>0&&t<l?parseInt(e.substring(t+1,l)):-1}keyVal(e){let t=e.indexOf("[");return t>=0?e.substring(0,t):e}getIfPresent(e){return this.isAbsent()?this.getClass().absent:this.getClass().fromNullable(this.value[e]).flatMap()}}n.absent=n.fromNullable(null);class a extends n{constructor(e,t="value"){super(e),this.key=t}get value(){return this._value?this._value[this.key]:null}set value(e){this._value||(this._value[this.key]=e)}orElse(e){let t={};return t[this.key]=e,this.isPresent()?this:new a(t,this.key)}orElseLazy(e){if(this.isPresent())return this;{let t={};return t[this.key]=e(),new a(t,this.key)}}getClass(){return a}static fromNullable(e,t="value"){return new a(e,t)}}a.absent=a.fromNullable(null);class i extends a{constructor(e,t,l){super(e,t),this.arrPos=void 0!==l?l:-1}get value(){return""==this.key&&this.arrPos>=0?this._value[this.arrPos]:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]:this._value[this.key]}set value(e){""==this.key&&this.arrPos>=0?this._value[this.arrPos]=e:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]=e:this._value[this.key]=e}}i.absent=i.fromNullable(null);class u extends n{constructor(e){super(e)}get shallowCopy(){return new u(r.Lang.instance.mergeMaps([{},this.value||{}]))}static fromNullable(e){return new u(e)}shallowMerge(e,t=!0){for(let l in e.value)t&&l in this.value?this.apply(l).value=e.getIf(l).value:l in this.value||(this.apply(l).value=e.getIf(l).value)}apply(...e){if(e.length<1)return;this.buildPath(e);let t=this.keyVal(e[e.length-1]),l=this.arrayIndex(e[e.length-1]);return new i(1==e.length?this.value:this.getIf.apply(this,e.slice(0,e.length-1)).value,t,l)}applyIf(e,...t){return e?this.apply(...t):{value:null}}getIf(...e){return this.getClass().fromNullable(super.getIf.apply(this,e).value)}get(e){return this.getClass().fromNullable(super.get(e).value)}delete(e){return e in this.value&&delete this.value[e],this}toJson(){return JSON.stringify(this.value)}getClass(){return u}setVal(e){this._value=e}buildPath(e){let t=this,l=this.getClass().fromNullable(null),r=-1,s=function(e,t){if(e.length<t)for(let l=e.length;l<t;l++)e.push({})};for(let n=0;n<e.length;n++){let a=this.keyVal(e[n]),i=this.arrayIndex(e[n]);if(""===a&&i>=0){t.setVal(t.value instanceof Array?t.value:[]),s(t.value,i+1),r>=0&&(l.value[r]=t.value),l=t,r=i,t=this.getClass().fromNullable(t.value[i]);continue}let u=t.getIf(a);if(-1==i)u.isAbsent()?u=this.getClass().fromNullable(t.value[a]={}):t=u;else{let e=u.value instanceof Array?u.value:[];s(e,i+1),t.value[a]=e,u=this.getClass().fromNullable(e[i])}l=t,r=i,t=u}return this}}},function(e,t,l){"use strict";l.r(t),l.d(t,"Lang",(function(){return n}));var r=l(2),s=l(0);class n{static get instance(){return n._instance||(n._instance=new n),n._instance}static saveResolve(e,t=null){try{let l=e();return void 0===l||null==l?s.Optional.fromNullable(t):s.Optional.fromNullable(l)}catch(e){return s.Optional.absent}}static saveResolveLazy(e,t=null){try{let l=e();return void 0===l||null==l?s.Optional.fromNullable(t()):s.Optional.fromNullable(l)}catch(e){return s.Optional.absent}}strToArray(e,t=/\./gi){let l=e.split(t);for(let e=0;e<l.length;e++)l[e]=this.trim(l[e]);return l}arrToMap(e,t=0){var l=new Array(e.length),r=e.length;t=t||0;for(var s=0;s<r;s++)l[e[s]]=s+t;return l}trim(e){let t=/\s/,l=(e=e.replace(/^\s\s*/,"")).length;for(;t.test(e.charAt(--l)););return e.slice(0,l+1)}isString(e){return!!arguments.length&&null!=e&&("string"==typeof e||e instanceof String)}isFunc(e){return e instanceof Function||"function"==typeof e}hitch(e,t){return e?function(){return t.apply(e,arguments||[])}:t}mergeMaps(e,t=!0,l=(e=>!1),r=(e=>!0)){let s={};return this.arrForEach(e,e=>{this.mixMaps(s,e,t,l,r)}),s}mixMaps(e,t,l,r,s){for(let n in t)t.hasOwnProperty(n)&&(r&&r(n)||s&&!s(n)||(e[n]=l?void 0!==t[n]?t[n]:e[n]:void 0!==e[n]?e[n]:t[n]));return e}objToArray(e,t,l){if(!e)return l||null;if(e instanceof Array&&!t&&!l)return e;let r=void 0!==t||null!=t?t:0,s=l||[];try{return s.concat(Array.prototype.slice.call(e,r))}catch(t){for(let t=r;t<e.length;t++)s.push(e[t]);return s}}arrForEach(e,t,l,r){if(!e||!e.length)return;let s=l||0,n=r,a=this.objToArray(e);l?a.slice(s).forEach(t,n):a.forEach(t,n)}contains(e,t){if(!e||!t)throw Error("null value on arr or str not allowed");return-1!=this.arrIndexOf(e,t)}arrIndexOf(e,t,l){if(!e||!e.length)return-1;let r=l||0;return(e=this.objToArray(e)).indexOf(t,r)}arrFilter(e,t,l,r){if(!e||!e.length)return[];let s=this.objToArray(e);return l?s.slice(l).filter(t,r):s.filter(t,r)}applyArgs(e,t,l){let r="undefined";if(l)for(let s=0;s<t.length;s++)r!=typeof e["_"+l[s]]&&(e["_"+l[s]]=t[s]),r!=typeof e[l[s]]&&(e[l[s]]=t[s]);else for(let l in t)t.hasOwnProperty(l)&&(r!=typeof e["_"+l]&&(e["_"+l]=t[l]),r!=typeof e[l]&&(e[l]=t[l]));return e}equalsIgnoreCase(e,t){return!e&&!t||!(!e||!t)&&e.toLowerCase()===t.toLowerCase()}timeout(e){let t=null;return new r.CancellablePromise((l,r)=>{t=setTimeout(()=>{l()},e)},()=>{t&&(clearTimeout(t),t=null)})}interval(e){let t=null;return new r.CancellablePromise((l,r)=>{t=setInterval(()=>{l()},e)},()=>{t&&(clearInterval(t),t=null)})}assertType(e,t){return this.isString(t)?typeof e==t:e instanceof t}}},function(e,t,l){"use strict";l.r(t),l.d(t,"PromiseStatus",(function(){return r})),l.d(t,"Promise",(function(){return n})),l.d(t,"CancellablePromise",(function(){return a}));var r,s=l(0);!function(e){e[e.PENDING=0]="PENDING",e[e.FULLFILLED=1]="FULLFILLED",e[e.REJECTED=2]="REJECTED"}(r||(r={}));class n{constructor(e){this.status=r.PENDING,this.allFuncs=[],this.value=e,this.value(e=>this.resolve(e),e=>this.reject(e))}static all(...e){let t,l=0,r=new n((e,l)=>{t=e}),s=()=>{l++,e.length==l&&t()};s.__last__=!0;for(let t=0;t<e.length;t++)e[t].finally(s);return r}static race(...e){let t,l,r=new n((e,r)=>{t=e,l=r}),s=()=>(t&&t(),t=null,l=null,null);s.__last__=!0;let a=()=>(l&&l(),l=null,t=null,null);a.__last__=!0;for(let t=0;t<e.length;t++)e[t].then(s),e[t].catch(a);return r}static reject(e){return new n((t,l)=>{e instanceof n?e.then(e=>{l(e)}):setTimeout(()=>{l(e)},1)})}static resolve(e){return new n((t,l)=>{e instanceof n?e.then(e=>t(e)):setTimeout(()=>{t(e)},1)})}then(e,t){return this.allFuncs.push({then:e}),t&&this.allFuncs.push({catch:t}),this.spliceLastFuncs(),this}catch(e){return this.allFuncs.push({catch:e}),this.spliceLastFuncs(),this}finally(e){if(!this.__reason__)return this.allFuncs.push({finally:e}),this.spliceLastFuncs(),this;this.__reason__.finally(e)}resolve(e){for(;this.allFuncs.length&&this.allFuncs[0].then;){let t=this.allFuncs.shift(),l=s.Optional.fromNullable(t.then(e));if(!l.isPresent())break;if((e=(l=l.flatMap()).value)instanceof n)return void this.transferIntoNewPromise(e)}this.appyFinally(),this.status=r.FULLFILLED}reject(e){for(;this.allFuncs.length&&!this.allFuncs[0].finally;){var t=this.allFuncs.shift();if(t.catch){var l=s.Optional.fromNullable(t.catch(e));if(l.isPresent()){if((e=(l=l.flatMap()).value)instanceof n)return void this.transferIntoNewPromise(e);this.status=r.REJECTED;break}break}}this.status=r.REJECTED,this.appyFinally()}appyFinally(){for(;this.allFuncs.length;){var e=this.allFuncs.shift();e.finally&&e.finally()}}spliceLastFuncs(){let e=[],t=[];for(let l=0;l<this.allFuncs.length;l++)for(let r in this.allFuncs[l])this.allFuncs[l][r].__last__?e.push(this.allFuncs[l]):t.push(this.allFuncs[l]);this.allFuncs=t.concat(e)}transferIntoNewPromise(e){for(var t=0;t<this.allFuncs.length;t++)for(let l in this.allFuncs[t])e[l](this.allFuncs[t][l])}}class a extends n{constructor(e,t){super(e),this.cancellator=()=>{},this.cancellator=t}cancel(){this.status=r.REJECTED,this.appyFinally(),this.allFuncs=[]}then(e,t){return super.then(e,t)}catch(e){return super.catch(e)}finally(e){return super.finally(e)}}},function(e,t,l){"use strict";l.r(t),l.d(t,"ElementAttribute",(function(){return a})),l.d(t,"DomQuery",(function(){return u})),l.d(t,"DomQueryCollector",(function(){return o}));var r=l(1),s=l(0),n=l(4);class a extends s.ValueEmbedder{constructor(e,t,l=null){super(e,t),this.element=e,this.name=t,this.defaultVal=l}get value(){let e=this.element.get(0).orElse().values;return e.length?e[0].getAttribute(this.name):this.defaultVal}set value(e){let t=this.element.get(0).orElse().values;for(let l=0;l<t.length;l++)t[l].setAttribute(this.name,e);t[0].setAttribute(this.name,e)}getClass(){return a}static fromNullable(e,t="value"){return new a(e,t)}}const i=e=>-1==e.indexOf("ln=scripts")&&-1==e.indexOf("ln=javax.faces")||-1==e.indexOf("/jsf.js")&&-1==e.indexOf("/jsf-uncompressed.js");class u{constructor(...e){if(this.rootNode=[],!s.Optional.fromNullable(e).isAbsent()&&e.length)for(let t=0;t<e.length;t++)if(r.Lang.instance.isString(e[t])){let l=u.querySelectorAll(e[t]);l.isAbsent()||e.push(...l.values)}else if(e[t]instanceof u)this.rootNode.push(...e[t].values);else if(r.Lang.instance.isString(e[t])){let l=u.querySelectorAll(e[t]);this.rootNode.push(...l.values)}else this.rootNode.push(e[t])}get value(){return this.getAsElem(0)}get values(){return this.allElems()}get id(){return new s.ValueEmbedder(this.getAsElem(0).value,"id")}get length(){return this.rootNode.length}get tagName(){return this.getAsElem(0).getIf("tagName")}get nodeName(){return this.getAsElem(0).getIf("nodeName")}isTag(e){return!this.isAbsent()&&(this.nodeName.orElse("__none___").value.toLowerCase()==e.toLowerCase()||this.tagName.orElse("__none___").value.toLowerCase()==e.toLowerCase())}get type(){return this.getAsElem(0).getIf("type")}get name(){return new s.ValueEmbedder(this.getAsElem(0).value,"name")}get inputValue(){return this.getAsElem(0).getIf("value").isPresent()?new s.ValueEmbedder(this.getAsElem(0).value):s.ValueEmbedder.absent}get elements(){let e=this.each(e=>{let t=e.value.value;return t.elements?t.elements:null}).stream.filter(e=>!!e).value;return new u(...e).orElseLazy(()=>this.querySelectorAll("form").elements).orElseLazy(()=>this.querySelectorAll("input, select, textarea"))}get disabled(){return!!this.attr("disabled").value}set disabled(e){this.attr("disabled").value=e+""}get childNodes(){let e=[];return this.eachElem(t=>{e=e.concat(r.Lang.instance.objToArray(t.childNodes))}),new u(...e)}get stream(){let e=[];return this.each(t=>{e.push(t)}),new n.Stream(...e)}static querySelectorAll(e){return new u(document).querySelectorAll(e)}static byId(e){return r.Lang.instance.isString(e)?new u(document).byId(e):new u(e)}static byTagName(e){return r.Lang.instance.isString(e)?new u(document).byTagName(e):new u(e)}static globalEval(e){return new u(document).globalEval(e)}static fromMarkup(e){let t=new u(document.createElement("div"));t.html("<table><tbody><tr><td>"+e+"</td></tr></tbody></table>");let l=t.querySelectorAll("td").get(0).childNodes;return l.detach(),t.html(""),l}get(e){return e<this.rootNode.length?new u(this.rootNode[e]):u.absent}getAsElem(e,t=s.Optional.absent){return e<this.rootNode.length?s.Optional.fromNullable(this.rootNode[e]):t}allElems(){return this.rootNode}isAbsent(){return 0==this.length}isPresent(e){let t=this.isAbsent();return!t&&e&&e.call(this,this),!t}ifPresentLazy(e=function(){}){return this.isPresent.call(this,e),this}delete(){this.eachElem(e=>{e.parentNode&&e.parentNode.removeChild(e)})}querySelectorAll(e){if(0==this.rootNode.length)return this;let t=[];for(let l=0;l<this.rootNode.length;l++){if(!this.rootNode[l].querySelectorAll)continue;let s=this.rootNode[l].querySelectorAll(e);t=t.concat(r.Lang.instance.objToArray(s))}return new u(...t)}byId(e,t){let l=[];for(let r=0;t&&r<this.rootNode.length;r++)this.rootNode[r].id==e&&l.push(new u(this.rootNode[r]));return l=l.concat(this.querySelectorAll(`[id="${e}"]`)),new u(...l)}byTagName(e,t){let l=[];for(let r=0;t&&r<this.rootNode.length;r++)this.rootNode[r].tagName==e&&l.push(new u(this.rootNode[r]));return l=l.concat(this.querySelectorAll(e)),new u(...l)}attr(e,t=null){return new a(this,e,t)}hasClass(e){let t=!1;return this.each(l=>{let r=l.attr("class").value||"";if(-1!=r.toLowerCase().indexOf(e.toLowerCase())){let l=r.split(/\s+/gi),s=!1;for(let t=0;t<l.length&&!s;t++)s=l[t].toLowerCase()==e.toLowerCase();if(t=t||s)return!1}}),t}addClass(e){return this.each(t=>{let l=t.attr("class").value||"";this.hasClass(e)||(t.attr("class").value=r.Lang.instance.trim(l+" "+e))}),this}removeClass(e){return this.each(t=>{if(this.hasClass(e)){let l=[],r=(t.attr("class").value||"").split(/\s+/gi);for(let t=0;t<r.length;t++)r[t].toLowerCase()!=e.toLowerCase()&&l.push(r[t]);t.attr("class").value=l.join(" ")}}),this}isMultipartCandidate(){return this.querySelectorAll("input[type='file']").firstElem().isPresent()}html(e){return s.Optional.fromNullable(e).isAbsent()?this.getAsElem(0).isPresent()?s.Optional.fromNullable(this.getAsElem(0).value.innerHTML):s.Optional.absent:(this.getAsElem(0).isPresent()&&(this.getAsElem(0).value.innerHTML=e),this)}_mozMatchesSelector(e,t){let l=e;return(l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector||function(t){let l=(document||window.ownerDocument).querySelectorAll(t),r=l.length;for(;--r>=0&&l.item(r)!==e;);return r>-1}).call(e,t)}filterSelector(e){let t=[];return this.eachElem(l=>{this._mozMatchesSelector(l,e)&&t.push(l)}),new u(...t)}matchesSelector(e){return this.eachElem(t=>{if(!this._mozMatchesSelector(t,e))return!1}),!0}getIf(...e){let t=this.childNodes;for(let l=0;l<e.length;l++)if((t=t.filterSelector(e[l])).isAbsent())return t;return t}eachElem(e){for(let t=0,l=this.rootNode.length;t<l&&!1!==e(this.rootNode[t],t);t++);return this}firstElem(e=(e=>e)){return this.rootNode.length>1&&e(this.rootNode[0],0),this}each(e){for(let t=0,l=this.rootNode.length;t<l&&!1!==e(this.get(t),t);t++);return this}first(e=(e=>e)){return this.rootNode.length>=1?(e(this.get(0),0),this.get(0)):this}filter(e){let t=[];return this.each(l=>{e(l)&&t.push(l)}),new u(...t)}globalEval(e,t){let l=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");t&&r.setAttribute("nonce",t),r.type="text/javascript",r.innerHTML=e;let s=l.appendChild(r);return l.removeChild(s),this}detach(){return this.eachElem(e=>{e.parentNode.removeChild(e)}),this}appendTo(e){this.eachElem(t=>{e.getAsElem(0).orElseLazy(()=>({appendChild:e=>{}})).value.appendChild(t)})}loadScriptEval(e,t=0,l){let r=new XMLHttpRequest;if(r.open("GET",e,!1),l&&r.setRequestHeader("Content-Type","application/x-javascript; charset:"+l),r.send(null),4!=r.readyState)throw Error("Loading of script "+e+" failed ");if(200!=r.status)throw Error(r.responseText);return(t?setTimeout((function(){this.globalEval(r.responseText+"\r\n//@ sourceURL="+e)}),t):this.globalEval(r.responseText.replace("\n","\r\n")+"\r\n//@ sourceURL="+e),this)}insertAfter(...e){this.each(t=>{let l=t.getAsElem(0).value,r=l.parentNode;for(let t=0;t<e.length;t++){let s=l.nextSibling;e[t].eachElem(e=>{s?(r.insertBefore(e,s),l=s):r.appendChild(e)})}});let t=[];return t.push(this),t.concat(e),new u(...t)}insertBefore(...e){this.each(t=>{let l=t.getAsElem(0).value,r=l.parentNode;for(let t=0;t<e.length;t++)e[t].eachElem(e=>{r.insertBefore(e,l)})});let t=[];return t.push(this),t.concat(e),new u(...t)}orElse(...e){return this.isPresent()?this:new u(...e)}orElseLazy(e){return this.isPresent()?this:new u(e())}parents(e){let t=[];const l=e.toLowerCase();let r=e=>{(e.tagName||"").toLowerCase()==l&&t.push(e)};return this.eachElem(l=>{for(;l.parentNode;)if(l=l.parentNode,r(l),"form"==e&&t.length)return!1}),new u(...t)}copyAttrs(e){return e.eachElem(e=>{for(let t=0;t<e.attributes.length;t++){let l=e.attributes[t].value;l&&(this.attr(e.attributes[t].name).value=l);let r=e;"value"in r&&(this.resolveAttributeHolder().value=r.value),"checked"in r&&(this.resolveAttributeHolder("checked").checked=r.checked||!0),"disabled"in r&&(this.resolveAttributeHolder("disabled").disabled=r.checked||"disabled")}}),this}resolveAttributeHolder(e="value"){let t=[];return t[e]=null,e in this.getAsElem(0).value?this.getAsElem(0).value:t}outerHTML(e,t,l){let r=u.fromMarkup(e),s=[],n=this.getAsElem(0).value,a=r.get(0),i=n.parentNode,o=a.getAsElem(0).value;i.replaceChild(o,n),s.push(new u(o));let h=[];for(let e=1;e<r.length;e++)h.push(r.get(e)),this.rootNode.push(r.get(e).getAsElem(0).value);return s.push(u.byId(o).insertAfter(...h)),t&&this.runScripts(),l&&this.runCss(),new u(...s)}runScripts(e=i){let t=r.Lang.instance,l=[],s=r=>{let s=r.tagName,n=r.type||"";if(s&&t.equalsIgnoreCase(s,"script")&&(""===n||t.equalsIgnoreCase(n,"text/javascript")||t.equalsIgnoreCase(n,"javascript")||t.equalsIgnoreCase(n,"text/ecmascript")||t.equalsIgnoreCase(n,"ecmascript"))){let t=r.getAttribute("src");if(void 0!==t&&null!=t&&t.length>0)e(t)&&(l.length&&(this.globalEval(l.join("\n")),l=[]),this.loadScriptEval(t,0,"UTF-8"));else{let e=r.text,t=!0;for(;t;)t=!1," "==e.substring(0,1)&&(e=e.substring(1),t=!0),"\x3c!--"==e.substring(0,4)&&(e=e.substring(4),t=!0),"//<![CDATA["==e.substring(0,11)&&(e=e.substring(11),t=!0);l.push(e)}}};try{let e=this.querySelectorAll("script");if(null==e)return;for(let t=0;t<e.length;t++)s(e.getAsElem(t).value);l.length&&this.globalEval(l.join("\n"))}catch(e){window.console&&window.console.error&&console.error(e.message||e.description)}finally{s=null}}runCss(){const e=r.Lang.instance,t=(e,t)=>{let l=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(l);let r=l.sheet?l.sheet:l.styleSheet;l.setAttribute("rel",e.getAttribute("rel")||"stylesheet"),l.setAttribute("type",e.getAttribute("type")||"text/css"),void 0!==r.cssText?r.cssText=t:l.appendChild(document.createTextNode(t))},l=l=>{const r=e.equalsIgnoreCase,s=l.tagName;if(s&&r(s,"link")&&r(l.getAttribute("type"),"text/css"))t(l,"@import url('"+l.getAttribute("href")+"');");else if(s&&r(s,"style")&&r(l.getAttribute("type"),"text/css")){let e=[],r=l.childNodes;if(r){const t=r.length;for(let l=0;l<t;l++)e.push(r[l].innerHTML||r[l].data)}else l.innerHTML&&e.push(l.innerHTML);t(l,e.join(""))}},s=this.querySelectorAll("link, style");if(null!=s){for(let e=0;e<s.length;e++){l(s.getAsElem(e).value)}return this}}get cDATAAsString(){let e=[];return this.each(t=>{t.childNodes.eachElem(t=>{e.push(t.data)})}),e.join("")}click(){return this.fireEvent("click"),this}addEventListener(e,t,l){return this.eachElem(r=>{r.addEventListener(e,t,l)}),this}removeEventListener(e,t,l){return this.eachElem(r=>{r.removeEventListener(e,t,l)}),this}fireEvent(e){this.eachElem(t=>{var l;if(t.ownerDocument)l=t.ownerDocument;else{if(9!=t.nodeType)throw new Error("Invalid node passed to fireEvent: "+t.id);l=t}if(t.dispatchEvent){var r="";switch(e){case"click":case"mousedown":case"mouseup":r="MouseEvents";break;case"focus":case"change":case"blur":case"select":r="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+e+"'."}let s=l.createEvent(r);s.initEvent(e,!0,!0),s.synthetic=!0,t.dispatchEvent(s)}else if(t.fireEvent){var s=l.createEventObject();s.synthetic=!0,t.fireEvent("on"+e,s)}})}textContent(e=""){return this.stream.map(e=>{return e.getAsElem(0).orElseLazy(()=>({textContent:""})).value.textContent||""}).reduce((t,l)=>t+e+l,"").value}innerText(e=""){return this.stream.map(e=>{return e.getAsElem(0).orElseLazy(()=>({innerText:""})).value.innerText||""}).reduce((t,l)=>t+e+l,"").value}encodeFormElement(e=new s.Config({})){if(this.name.isAbsent())return;let t=e.shallowCopy;return this.eachElem(e=>{if(!e.name)return;let l=e.name,r=e.tagName.toLowerCase(),s=e.type.orElse("__none__").value.toLowerCase();if(s=s.toLowerCase(),("input"==r||"textarea"==r||"select"==r)&&null!=l&&""!=l&&!e.disabled){if("select"==r){let r=e.getAsElem(0).value;if(r.selectedIndex>=0){let e=r.options.length;for(let s=0;s<e;s++)if(r.options[s].selected){let e=r.options[s];t.apply(l).value=null!=e.getAttribute("value")?e.value:e.text}}}if("select"!=r&&"button"!=s&&"reset"!=s&&"submit"!=s&&"image"!=s&&("checkbox"!=s&&"radio"!=s||e.checked)){let r=e.value.files;r&&r.length?t.apply(l).value=r[0]:t.apply(l).value=e.inputValue.value}}}),t}subNodes(e,t){return s.Optional.fromNullable(t).isAbsent()&&(t=this.length),new u(...this.rootNode.slice(e,Math.min(t,this.length)))}}u.absent=new u;class o{constructor(){this.data=[]}collect(e){this.data.push(e)}get finalValue(){return new u(...this.data)}}},function(e,t,l){"use strict";l.r(t),l.d(t,"Stream",(function(){return s})),l.d(t,"ArrayCollector",(function(){return n}));var r=l(0);class s{constructor(...e){this.value=e}static of(...e){return new s(...e)}each(e){for(let t=0;t<this.value.length&&!1!==e(this.value[t],t);t++);return this}map(e){e||(e=e=>e);let t=[];return this.each((l,r)=>{t.push(e(l))}),new s(...t)}flatMap(e){let t=this.map(e),l=this.mapStreams(t);return new s(...l)}filter(e){let t=[];return this.each(l=>{e(l)&&t.push(l)}),new s(...t)}reduce(e,t=null){let l=null!=t?0:1,s=null!=t?t:this.value.length?this.value[0]:null;for(let t=l;t<this.value.length;t++)s=e(s,this.value[t]);return r.Optional.fromNullable(s)}first(){return this.value&&this.value.length?r.Optional.fromNullable(this.value[0]):r.Optional.absent}last(){return r.Optional.fromNullable(this.value.length?this.value[this.value.length-1]:null)}anyMatch(e){for(let t=0;t<this.value.length;t++)if(e(this.value[t]))return!0;return!1}allMatch(e){if(!this.value.length)return!1;let t=0;for(let l=0;l<this.value.length;l++)e(this.value[l])&&t++;return t==this.value.length}noneMatch(e){let t=0;for(let l=0;l<this.value.length;l++)e(this.value[l])&&t++;return t==this.value.length}collect(e){return this.each(t=>e.collect(t)),e.finalValue}mapStreams(e){let t=[];return e.each(e=>{e instanceof s?t=t.concat(this.mapStreams(e)):t.push(e)}),t}}class n{constructor(){this.data=[]}collect(e){this.data.push(e)}get finalValue(){return this.data}}}])}));
//# sourceMappingURL=DomQuery.js.map